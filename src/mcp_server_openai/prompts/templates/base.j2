{# Base template with advanced Jinja2 features #}
{%- macro render_bullet_point(text, level=0) -%}
{%- if level > 0 -%}
  {%- for i in range(level) -%}  {%- endfor -%}
{%- endif -%}- {{ text }}
{%- endmacro -%}

{%- macro render_section(title, content, level=1) -%}
{%- if title -%}
{%- for i in range(level) -%}#{%- endfor -%} {{ title }}

{%- endif -%}
{%- if content is string -%}
{{ content }}
{%- elif content is sequence -%}
{%- for item in content -%}
{{ render_bullet_point(item, level) }}
{%- endfor -%}
{%- else -%}
{{ content | json_pretty }}
{%- endif -%}

{%- endmacro -%}

{%- macro format_metadata(metadata) -%}
{%- if metadata -%}
**Metadata:**
{%- for key, value in metadata.items() -%}
- **{{ key }}**: {{ value }}
{%- endfor -%}

{%- endif -%}
{%- endmacro -%}

{# Main content block that child templates will override #}
{%- block content -%}
{# This will be overridden by child templates #}
{%- endblock -%}

{# Footer with common elements #}
{%- block footer -%}
---
*Generated by MCP Server OpenAI Prompt Manager*
{%- endblock -%}
